\chapter[Mô phỏng hai chiều trong logic mô tả và tính bất biến đối~với mô phỏng hai chiều]{MÔ PHỎNG HAI CHIỀU TRONG LOGIC MÔ TẢ VÀ\!\\ TÍNH BẤT BIẾN ĐỐI VỚI MÔ PHỎNG HAI CHIỀU\!}
\label{Chapter2}
\thispagestyle{fancy}

%-------------------------------------------------------------------
\section{Giới thiệu}
\label{sec:Chap2.Introduction}
Mô phỏng hai chiều được J. van Benthem giới thiệu lần đầu dưới tên gọi {\em p-quan hệ} ({\em p-relation}) và {\em quan hệ zig-zag} ({\em zig-zag relation})~\cite{Benthem1983,Benthem1984}. Nó được phát triển trong logic hình thái ({\em modal logic})~\cite{Benthem2001,Blackburn2001,Blackburn2006,Benthem2010} và trong các hệ thống chuyển trạng thái ({\em state transition systems})~\cite{Park1981,Hennessy1985}. 
Mô phỏng hai chiều là một quan hệ nhị phân cho phép đặc tả tính tương tự giữa hai trạng thái cũng như tính tương tự giữa các mô hình Kripke. Divroodi và Nguyen~\cite{Divroodi2011B} đã nghiên cứu mô phỏng hai chiều cho một số logic mô tả cụ thể. Trong công trình~\cite{Nguyen2013}, Nguyen và Sza{\l}as đã nghiên cứu về mô phỏng hai chiều và tính không phân biệt được của các đối tượng để áp dụng vào việc học khái niệm trong logic mô tả. 
Các công trình này tập trung nghiên cứu đối với lớp các logic mô tả \ALCreg với tập các đặc trưng là $\mI, \mO, \mQ, \mU, \Self$. Ngoài những đặc trưng đã đề cập ở các nghiên cứu trên~\cite{Divroodi2011B,Nguyen2013}, trong chương này, chúng tôi tổng quát hóa và mở rộng các kết quả về mô phỏng hai chiều cho một lớp lớn hơn các logic mô tả với các đặc trưng $\mF, \mN$. Bên cạnh đó, chúng tôi cũng đề cập đến các thuộc tính như là các phần tử cơ bản của ngôn ngữ cần xem xét.

%-------------------------------------------------------------------
\section{Mô phỏng hai chiều trong logic mô tả}
\label{sec:Chap2.BisimulationInDL}
\subsection{Mô phỏng hai chiều}
\label{sec:Chap2.Bisimulation}

\begin{Definition}[Mô phỏng hai chiều]
	\label{def:Bisimulation}
	Cho $\Sigma$ và $\SigmaDag$ là các bộ ký tự logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\PhiDag$ là tập các đặc trưng của logic mô tả sao cho $\PhiDag \subseteq \Phi$, $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$.
	%
	Một {\em $\mLSPD$-mô phỏng hai chiều} giữa $\mI$ và $\mI'$ là một quan hệ nhị phân $Z \subseteq \Delta^\mI \times \Delta^{\mI'}$ thỏa các điều kiện sau với mọi $a \in \SigmaDagI$, $A \in \SigmaDagC$, $B \in \SigmaDagA\setminus\SigmaDagC$, $r \in \SigmaDagOR$, $\sigma \in \SigmaDagDR$, $d \in \Range(\sigma)$, $x,y \in \Delta^\mI$, $x',y' \in \Delta^{\mI'}$:	
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(a^\mI,a^{\mI'}) \label{bs:eqA} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow [A^\mI(x) \Leftrightarrow A^{\mI'}(x')] \label{bs:eqB1} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow [B^\mI(x) = B^{\mI'}(x') \textrm{ hoặc đều không xác định}] \label{bs:eqB2} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		[Z(x,x') \wedge r^\mI(x,y)] \Rightarrow \E y' \in \Delta^{\mI'} \mid [Z(y,y') \wedge r^{\mI'}(x',y')] \label{bs:eqC1}
	\end{eqnarray}
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		[Z(x,x') \wedge r^{\mI'}(x',y')] \Rightarrow \E y \in \Delta^\mI \mid [Z(y,y') \wedge r^\mI(x,y)] \label{bs:eqC2} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow [\sigma^\mI(x,d) \Leftrightarrow \sigma^{\mI'}(x',d)], \label{bs:eqD}
	\end{eqnarray}
	%
	nếu $\mI \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		[Z(x,x') \wedge r^\mI(y,x)] \Rightarrow \E y' \in \Delta^{\mI'} \mid [Z(y,y') \wedge r^{\mI'}(y',x')] \label{bs:eqI1} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		[Z(x,x') \wedge r^{\mI'}(y',x')] \Rightarrow \E y \in \Delta^\mI \mid [Z(y,y') \wedge r^\mI(y,x)], \label{bs:eqI2}
	\end{eqnarray}
	%
	nếu $\mO \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow [x = a^\mI \Leftrightarrow x' = a^{\mI'}], \label{bs:eqO0}
	\end{eqnarray}
	%
	nếu $\mN \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow \#\{y \in \Delta^\mI \mid r^\mI(x,y)\} = \#\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}, \label{bs:eqN}
	\end{eqnarray}
	%
	nếu $\{\mN,\mI\} \subseteq \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow \#\{y \in \Delta^\mI \mid r^\mI(y,x)\} = \#\{y' \in \Delta^{\mI'} \mid r^{\mI'}(y',x')\}, \label{bs:eqNI}
	\end{eqnarray}
	%
	nếu $\mF \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		\begin{array}{c}
			Z(x,x') \Rightarrow [\#\{y \in \Delta^\mI \mid r^\mI(x,y)\} \leq 1 \Leftrightarrow \#\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\} \leq 1],
		\end{array}\label{bs:eqF}
	\end{eqnarray}
	%
	nếu $\{\mF,\mI\} \subseteq \Phi^\dag$ thì
	\begin{eqnarray}
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		\begin{array}{c}
			Z(x,x') \Rightarrow [\#\{y \in \Delta^\mI \mid r^\mI(y,x)\} \leq 1 \Leftrightarrow \#\{y' \in \Delta^{\mI'} \mid r^{\mI'}(y',x')\} \leq 1],
		\end{array}	\label{bs:eqFI}
	\end{eqnarray}
	%
	nếu $\mQ \in \Phi^\dag$ thì
	\begin{eqnarray}
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		\parbox{11.5cm}{nếu $Z(x,x')$ thỏa mãn thì với mọi $r \in \SigmaDagOR$, tồn tại một song ánh \mbox{$h: \{y \in \Delta^\mI \mid r^\mI(x,y)\} \to \{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}$} sao cho $h \subseteq Z$,} \label{bs:eqQ}
	\end{eqnarray}
	%
	nếu $\{\mQ,\mI\} \subseteq \Phi^\dag$ thì
	\begin{eqnarray}
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		\parbox{11.5cm}{nếu $Z(x,x')$ thỏa mãn thì với mọi $r \in \SigmaDagOR$, tồn tại một song ánh \mbox{$h: \{y \in \Delta^\mI \mid r^\mI(y,x)\} \to \{y' \in \Delta^{\mI'} \mid r^{\mI'}(y',x')\}$} sao cho $h \subseteq Z$,} \label{bs:eqQI}
	\end{eqnarray}
	%
	nếu $\mU \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\! 
		\V x \in \Delta^\mI,\ \E x' \in \Delta^{\mI'}, Z(x,x') \label{bs:eqU1} \\
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\! 
		\V x' \in \Delta^{\mI'},\ \E x \in \Delta^\mI, Z(x,x'), \label{bs:eqU2}
	\end{eqnarray}
	%
	nếu $\Self \in \Phi^\dag$ thì
	\begin{eqnarray}
		&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!
		Z(x,x') \Rightarrow [r^\mI(x,x) \Leftrightarrow r^{\mI'}(x',x')], \label{bs:eqSelf}
	\end{eqnarray}
	trong đó $\sharp\Gamma$ ký hiệu cho lực lượng của tập hợp $\Gamma$.\myend
\end{Definition}

Bổ đề~\ref{lm:Bisimulation} sau đây nói lên sự tồn tại của mô phỏng hai chiều, tính nghịch đảo của mô phỏng hai chiều, tính chất hợp thành của mô phỏng hai chiều và hợp của các mô phỏng hai chiều. 
Bổ đề này được phát triển dựa trên Bổ đề~3.1 của Divroodi và Nguyen~\cite{Divroodi2011B} với điểm khác biệt là nó được áp dụng cho một lớp lớn hơn các logic mô tả khác nhau như đã đề cập trong Mục~\ref{sec:Chap1.LSPLanguage}~Chương~\ref{Chapter1}.
\begin{Lemma}
\label{lm:Bisimulation}~
	\begin{enumerate}
		\item Quan hệ $\{\tuple{x,x} \mid x \in \Delta^\mI\}$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI$.\label{lm:item1}
		%  
		\item Nếu $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ thì $Z^{-1}$ cũng là một $\mLSPD$-mô phỏng hai chiều giữa $\mI'$ và $\mI$.\label{lm:item2}
		%  
		\item Nếu $Z_1$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI_0$ và $\mI_1$, $Z_2$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI_1$ và $\mI_2$ thì $Z_1 \circ Z_2$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI_0$ và~$\mI_2$.\label{lm:item3}
		%
		\item Nếu $\mathcal{Z}$ là một tập các $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ thì $\bigcup \mathcal{Z}$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$.\label{lm:item4}\myend
	\end{enumerate}
\end{Lemma}

\begin{proof}
	Để chứng minh bổ đề này, chúng ta chứng minh lần lượt các khẳng định~\ref{lm:item1}--\ref{lm:item4} của bổ đề. Với mỗi khẳng định, ta cần phải chỉ ra rằng quan hệ đó thỏa mãn 18 điều kiện của mô phỏng hai chiều theo Định~nghĩa~\ref{def:Bisimulation}.
	
	\semiItem Xét khẳng định~\eqref{lm:item1} và giả sử có $\SigmaDag \subseteq \Sigma$, $\PhiDag \subseteq \Phi$. Xét $a \in \SigmaDagI$, $A \in \SigmaDagC$, $B \in \SigmaDagA\setminus\SigmaDagC$, $r \in \SigmaDagOR$, $\sigma \in \SigmaDagDR$, $d \in \Range(\sigma)$, $x,y \in \Delta^\mI$, $x',y' \in \Delta^{\mI}$.
	Gọi $Z$ là quan hệ $\{\tuple{x,x} \mid x \in \Delta^\mI\}$. Lúc đó, nếu $Z(x, x')$ thỏa mãn thì $x = x'$, và khi cần chúng ta chọn $y' = y$ thì quan hệ $Z$ thỏa tất cả các điều kiện~\eqref{bs:eqA}--\eqref{bs:eqSelf}.
	
	\semiItem Xét khẳng định~\eqref{lm:item2} và giả sử $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Lúc đó $Z(x, x')$ thỏa mãn khi và chỉ khi $Z^{-1}(x', x)$ thỏa mãn. Bằng cách hoán vị $x$ và $x'$ cho nhau chúng ta dễ dàng thấy rằng quan hệ $Z^{-1}$ thỏa tất cả các điều kiện~\eqref{bs:eqA}--\eqref{bs:eqSelf}.
	
	\semiItem Xét khẳng định~\eqref{lm:item3} và giả sử $Z_1$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI_0$ và $\mI_1$, $Z_2$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI_1$ và $\mI_2$.
	Giả sử có $\SigmaDag \subseteq \Sigma$, $\PhiDag \subseteq \Phi$. Xét $a \in \SigmaDagI$, $A \in \SigmaDagC$, $B \in \SigmaDagA\setminus\SigmaDagC$, $r \in \SigmaDagOR$, $\sigma \in \SigmaDagDR$, $d \in \Range(\sigma)$, $x_0,y_0 \in \Delta^{\mI_0}$ và $x_2,y_2 \in \Delta^{\mI_2}$. Đặt $Z = Z_1 \circ Z_2$. Chúng ta chứng minh $Z$ là một $\mLSPD$-mô phỏng hai chiều bằng cách chỉ ra rằng $Z$ thỏa mãn tất cả các điều kiện~\eqref{bs:eqA}--\eqref{bs:eqSelf}.
	
	\begin{itemize}
		\item Xét điều kiện~\eqref{bs:eqA} và giả sử $Z_1(a^{\mI_0}, a^{\mI_1})$, $Z_2(a^{\mI_1}, a^{\mI_2})$ thỏa mãn. Vì $Z_1(a^{\mI_0}, a^{\mI_1})$ và $Z_2(a^{\mI_1}, a^{\mI_2})$ thỏa thỏa mãn nên ta có $(Z_1 \circ Z_2)(a^{\mI_0}, a^{\mI_2})$ thỏa mãn. Vậy $Z(a^{\mI_0}, a^{\mI_2})$ thỏa mãn.
	
		\item Xét điều kiện~\eqref{bs:eqB1} và giả sử $Z(x_0, x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z_1(x_0, x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. Do đó ta có $A^{\mI_0}(x_0) \Leftrightarrow A^{\mI_1}(x_1)$ và $A^{\mI_1}(x_1) \Leftrightarrow A^{\mI_2}(x_2)$. Từ đó suy ra $A^{\mI_0}(x_0) \Leftrightarrow A^{\mI_2}(x_2)$.
	
		\item Xét điều kiện~\eqref{bs:eqB2} và giả sử $Z(x_0, x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z_1(x_0, x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. Vì $Z_1(x_0,x_1)$ thỏa mãn nên ta có $B^{\mI_0}(x_0) = B^{\mI_1}(x_1)$ hoặc cả hai không xác định. Tương tự, $Z_1(x_0,x_1)$ thỏa mãn nên $B^{\mI_1}(x_1) = B^{\mI_2}(x_2)$ hoặc cả hai không xác định. 
		Nếu $B^{\mI_0}(x_0) = B^{\mI_1}(x_1)$ thì $B^{\mI_1}(x_1)$ xác định và $B^{\mI_1}(x_1) = B^{\mI_2}(x_2)$. Từ đó suy ra $B^{\mI_0}(x_0) = B^{\mI_1}(x_1) = B^{\mI_2}(x_2)$.
		%
		Nếu $B^{\mI_0}(x_0)$ không xác định ta suy ra  $B^{\mI_1}(x_1)$ không xác định và ngược lại. Tương tự, khi $B^{\mI_1}(x_1)$ không xác định ta suy ra  $B^{\mI_2}(x_2)$ không xác định và ngược lại. Từ đó ta có $B^{\mI_0}(x_0)$ không xác định khi và chỉ khi $B^{\mI_2}(x_2)$ không xác~định.
		
		\item Xét điều kiện~\eqref{bs:eqC1} và giả sử $Z(x_0, x_2)$ và $r^{\mI_0}(x_0, y_0)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z_1(x_0,x_1)$ và $Z_2(x_1,x_2)$ thỏa mãn. Từ $Z_1(x_0,x_1)$ và $r^{\mI_0}(x_0, y_0)$ thỏa mãn ta suy ra tồn tại $y_1 \in \Delta^{\mI_1}$ sao cho $Z_1(y_0, y_1)$ và $r^{\mI_1}(x_1, y_1)$ thỏa mãn. Từ $Z_2(x_1,x_2)$ và $r^{\mI_1}(x_1, y_1)$ thỏa mãn ta suy ra tồn tại $y_2 \in \Delta^{\mI_2}$ sao cho $Z_2(y_1, y_2)$ và $r^{\mI_2}(x_2, y_2)$ thỏa mãn. Từ $Z_1(y_0,y_1)$ và $Z_2(y_1,y_2)$ thỏa mãn ta có $Z(y_0,y_2)$ thỏa mãn.
		
		\item Điều kiện~\eqref{bs:eqC2} được chứng minh tương tự như điều kiện~\eqref{bs:eqC1}.
		
		\item Xét điều kiện~\eqref{bs:eqD} và giả sử $Z(x_0,x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. $Z_1(x_0,x_1)$ và $Z_2(x_1,x_2)$ thỏa mãn nên ta có $\sigma^{\mI_0}(x_0, d) \Leftrightarrow \sigma^{\mI_1}(x_1,d)$ và $\sigma^{\mI_1}(x_1, d) \Leftrightarrow \sigma^{\mI_2}(x_2,d)$. Từ đó ta suy ra $\sigma^{\mI_0}(x_0, d) \Leftrightarrow \sigma^{\mI_2}(x_2,d)$.
		
		\item Điều kiện~\eqref{bs:eqI1} trong trường hợp $\mI \in \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqC1} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
		
		\item Tương tự, điều kiện~\eqref{bs:eqI2} trong trường hợp $\mI \in \PhiDag$ cũng được chứng minh như điều kiện~\eqref{bs:eqC1} và~\eqref{bs:eqI1}.
		
		\item Điều kiện~\eqref{bs:eqO0} trong trường hợp $\mO \in \PhiDag$ được chứng minh bằng cách vận dụng kết quả của điều kiện~\eqref{bs:eqB1} với khái niệm $A$ được thay thế bởi khái niệm $\{a\}$.
		
		\item Xét điều kiện~\eqref{bs:eqN} trong trường hợp $\mN \in \PhiDag$ và giả sử $Z(x_0, x_2)$ thỏa mãn. Vì $Z=Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho  $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa~mãn. Vì $Z_1(x_0,x_1)$ thỏa mãn nên ta có $\sharp\{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} = \sharp\{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\}$. Tương tự, $Z_2(x_1, x_2)$ thỏa mãn nên ta có $\sharp\{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\} = \sharp\{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\}$. Từ đó ta suy ra $\sharp\{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} = \sharp\{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\}$.
		
		\item Điều kiện~\eqref{bs:eqNI} trong trường hợp $\{\mN, \mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqN} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
		
		\item Xét điều kiện~\eqref{bs:eqF} trong trường hợp $\mF \in \PhiDag$ và giả sử $Z(x_0, x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho  $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. Do $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn nên ta có $[\sharp\{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} \leq 1] \Leftrightarrow [\sharp\{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\} \leq 1]$ và $[\sharp\{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\} \leq 1] \Leftrightarrow [\sharp\{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\} \leq 1]$. Từ đó ta suy ra [$\sharp\{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} \leq 1] \Leftrightarrow [\sharp\{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\} \leq 1]$.
		
		\item Điều kiện~\eqref{bs:eqFI} trong trường hợp $\{\mF, \mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqF} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
		
		\item Xét điều kiện~\eqref{bs:eqQ} trong trường hợp $\mQ \in \PhiDag$ và giả sử $Z(x_0, x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho  $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. Do $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn nên với mọi tên vai trò đối tượng $r \in \SigmaDagOR$ tồn tại một song ánh $h_1 : \{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} \rightarrow \{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\}$ sao cho $h_1 \subseteq Z_1$  và một song ánh $h_2 : \{y_1 \in \Delta^{\mI_1} \mid r^{\mI_1}(x_1,y_1)\} \rightarrow \{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\}$ sao cho $h_2 \subseteq Z_2$. 
		Đặt $h = h_2 \circ h_1$ là hàm hợp thành của $h_1$ và $h_2$. Rõ ràng $h : \{y_0 \in \Delta^{\mI_0} \mid r^{\mI_0}(x_0,y_0)\} \rightarrow \{y_2 \in \Delta^{\mI_2} \mid r^{\mI_2}(x_2,y_2)\}$ là một song ánh và $h \subseteq Z$.
		
		\item Điều kiện~\eqref{bs:eqQI} trong trường hợp $\{\mQ, \mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqQ} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
		
		\item Xét điều kiện~\eqref{bs:eqU1} trong trường hợp $\mU \in \PhiDag$. Với mọi $x_0 \in \Delta^{\mI_0}$ tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z(x_0,x_1)$ thỏa mãn và với mọi $x_1 \in \Delta^{\mI_1}$ tồn tại $x_2 \in \Delta^{\mI_2}$ sao cho $Z(x_1,x_2)$ thỏa mãn. Vì $Z=Z_1 \circ Z_2$, do đó với mọi $x_0 \in \Delta^{\mI_0}$ tồn tại $x_2 \in \Delta^{\mI_2}$ sao cho $Z(x_0,x_2)$ thỏa mãn.
		
		\item Điều kiện~\eqref{bs:eqU2} trong trường hợp $\mU \in \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqU1}.
		
		\item Xét điều kiện~\eqref{bs:eqSelf} trong trường hợp $\Self \in \PhiDag$ và giả sử $Z(x_0,x_2)$ thỏa mãn. Vì $Z = Z_1 \circ Z_2$ nên tồn tại $x_1 \in \Delta^{\mI_1}$ sao cho $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn. Vì $Z_1(x_0,x_1)$ và $Z_2(x_1, x_2)$ thỏa mãn nên ta có $r^{\mI_0}(x_0,x_0) \Leftrightarrow r^{\mI_1}(x_1,x_1)$ và $r^{\mI_1}(x_1,x_1) \Leftrightarrow r^{\mI_2}(x_2,x_2)$. Từ đó ta suy ra $r^{\mI_0}(x_0,x_0) \Leftrightarrow r^{\mI_2}(x_2,x_2)$.
	\end{itemize}
	\semiItem Khẳng định~\eqref{lm:item4} cũng được chứng minh một cách dễ dàng bằng cách chỉ ra $Z = \bigcup \mathcal{Z}$ thỏa mãn tất cả các điều kiện~\eqref{bs:eqA}--\eqref{bs:eqSelf}.
\end{proof}

\subsection{Quan hệ tương tự hai chiều và quan hệ tương đương}
\label{sec:Chap2.Bisimilary}

Các định nghĩa sau đây phát biểu về quan hệ tương tự giữa các diễn dịch, quan hệ tương tự giữa các phần tử trong miền của diễn dịch và quan hệ tương đương trong một ngôn ngữ con cho trước~\cite{ Divroodi2011B,Nguyen2013}.

\begin{Definition}
\label{def:InterpretationBisimilarity}
	Cho $\mI$ và $\mI'$ là các diễn dịch trong ngôn ngữ $\mLSP$. Ta nói rằng $\mI$~{\em $\mLSPD$-tương tự hai chiều} với $\mI'$ nếu tồn tại một $\mLSPD$-mô phỏng hai chiều giữa $\mI$~và $\mI'$.\myend
\end{Definition}

\begin{Definition}
\label{def:ElementBisimilarity}
	Cho $\mI$ và $\mI'$ là các diễn dịch trong ngôn ngữ $\mLSP$, $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$. Ta nói rằng $x$ {\em $\mLSPD$-tương tự hai chiều} với $x'$ nếu tồn tại một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ sao cho $Z(x,x')$ thỏa mãn.\myend	
\end{Definition}

\begin{Definition}
\label{def:LSPEquivalence}
	Cho $\mI$ và $\mI'$ là các diễn dịch trong ngôn ngữ $\mLSP$, $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$. Ta nói rằng $x$ {\em $\mLSPD$-tương đương} với $x'$ nếu với mọi khái niệm $C$ của $\mLSPD$, $x \in C^\mI$ khi và chỉ khi $x' \in C^{\mI'}$.\myend
\end{Definition}

Theo Bổ đề~\ref{lm:Bisimulation}, chúng ta thấy rằng quan hệ tương tự hai chiều giữa các diễn dịch là một quan hệ tương đương và quan hệ tương tự hai chiều giữa các phần tử trong diễn dịch cũng là một quan hệ tương đương bởi vì các quan hệ này đều thỏa mãn ba tính chất phản xạ, đối xứng và bắc cầu.

\begin{Example}
	Xét các diễn dịch $\mI_1$ và $\mI_2$ trong ngôn ngữ $\mLSP$ như đã cho ở Ví dụ~\ref{ex:LSPLanguage} và được mô tả như trong Hình~\ref{fig:TwoInterpretation} của Chương~\ref{Chapter1}. Chúng ta thấy rằng:	
	\begin{itemize}
		\item $\mI_1$ $\mLSPD$-tương tự hai chiều với $\mI_2$, trong đó $\SigmaDag = \Sigma \setminus \{\NickName\}$ và\break $\PhiDag \subseteq \{\mI, \mO\}$,
		\item $\mI_1$ không $\mLSPD$-tương tự hai chiều với $\mI_2$, trong đó $\SigmaDag = \Sigma$ và $\PhiDag = \{\mN\}$,
		\item $\mI_1$ không $\mLSPD$-tương tự hai chiều với $\mI_2$, trong đó $\SigmaDag = \Sigma$ và $\PhiDag = \{\mQ\}$,
		\item $x_3$ (của diễn dịch $\mI_1$) $\mLSPD$-tương tự hai chiều với $y_3, y_5$ (của diễn dịch $\mI_2$), trong~đó $\SigmaDag = \Sigma \setminus \{\NickName\}$ và $\PhiDag \subseteq \{\mI, \mO\}$.\myend
	\end{itemize}
\end{Example}

%-------------------------------------------------------------------
\section{Tính bất biến đối với mô phỏng hai chiều}
\label{sec:Chap2.Invariant}
\subsection{Quan hệ giữa mô phỏng hai chiều với các khái niệm và vai trò}
\label{sec:Chap2.BisConceptRole}
Bổ đề~\ref{lm:Condition} sau đây được phát biểu và chứng minh dựa trên Bổ đề~3.2 của công trình~\cite{Divroodi2011B}. Điểm khác là nó được áp dụng cho một lớp lớn hơn các logic mô tả như đã đề cập trong Mục~\ref{sec:Chap1.LSPLanguage} của Chương~\ref{Chapter1}.

\begin{Lemma}
	\label{lm:Condition}
	Cho $\mI$ và $\mI'$ là các diễn dịch trong ngôn ngữ $\mLSP$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Lúc đó, với mọi khái niệm $C$ của $\mLSPD$, mọi vai trò đối tượng $R$ của $\mLSPD$, mọi đối tượng $x, y \in \Delta^\mI$, $x', y' \in \Delta^{\mI'}$ và mọi cá thể $a \in \SigmaDagI$, các điều kiện sau sẽ được thỏa mãn:
	\begin{eqnarray}
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\! Z(x, x') \Rightarrow [C^\mI(x) \Leftrightarrow C^{\mI'}(x')] \label{bs:eqC3}\\
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\! [Z(x, x') \wedge R^\mI(x, y)] \Rightarrow \E y' \in \Delta^{\mI'} \mid [Z(y,y') \wedge R^{\mI'}(x',y')] \label{bs:eqR1}\\
	&&\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\! [Z(x, x') \wedge R^{\mI'}(x', y')] \Rightarrow \E y \in \Delta^\mI \mid [Z(y,y') \wedge R^\mI(x,y)], \label{bs:eqR2}
	\end{eqnarray}
	nếu $\mO \in \PhiDag$ thì:
	\begin{eqnarray}
	&&\!\!\!\!\!\!\! Z(x, x') \Rightarrow [R^\mI(x, a^\mI) \Leftrightarrow R^{\mI'}(x', a^{\mI'})].\quad\label{bs:eqOR}\ \myend
	\end{eqnarray}
\end{Lemma}

\begin{proof}
	Giả sử $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ và $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Chúng ta sẽ chứng minh bổ đề này bằng phương pháp đệ quy theo cấu trúc của khái niệm $C$ và vai trò $R$.
	
	\semiItem Xét khẳng định~\eqref{bs:eqC3}. Giả sử $Z(x,x')$ thỏa mãn với $x \in \Delta^\mI$, $x' \in \Delta^{\mI'}$ và $C$ là một khái niệm bất kỳ của $\mLSPD$. Chúng ta cần chứng minh nếu $C^\mI(x)$ thỏa mãn thì $C^{\mI'}(x')$ thỏa mãn và ngược lại.
	%
	Giả sử $C^\mI(x)$ thỏa mãn, chúng ta chứng minh $C^{\mI'}(x')$ thỏa mãn. Việc chứng minh chiều ngược lại được thực hiện tương tự.
	
	\begin{itemize}
		\item Trường hợp $C$ có dạng $\top, \bot$ hoặc $A$ là những trường hợp tầm thường được suy ra trực tiếp từ điều kiện~\eqref{bs:eqB1}.
		
		\item Trường hợp $C$ có dạng $A = d, A\not=d, A \leq d, A < d, A \geq d$ hoặc $A > d$ là những trường hợp tầm thường được suy ra trực tiếp từ điều kiện~\eqref{bs:eqB2}.
		
		\item Trường hợp $C \equiv \neg D$, vì $C^\mI(x)$ thỏa mãn nên ta có $D^\mI(x)$ không thỏa mãn. Vì $Z(x,x')$ thỏa mãn và $D^\mI(x)$ không thỏa mãn nên ta suy ra $D^{\mI'}(x')$ không thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Do đó $\neg D^{\mI'}(x')$ thỏa mãn. Nói cách khác $C^{\mI'}(x')$ thỏa~mãn.
		
		\item Trường hợp $C \equiv D \mand D'$, vì $C(x)$ thỏa mãn nên $D^\mI(x)$ và $D'^\mI(x)$ thỏa mãn. Vì $Z(x, x')$,  $D^\mI(x)$ và $D'^\mI(x)$ thỏa mãn nên ta có $D^{\mI'}(x')$ và ${D'}^{\mI'}(x')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Do đó $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $C \equiv D \mor D'$, vì $C(x)$ thỏa mãn nên $D^\mI(x)$ hoặc $D'^\mI(x)$ thỏa mãn. Không mất tính tổng quát ta giả sử $D^\mI(x)$ thỏa mãn. Vì $Z(x, x')$ và $D^\mI(x)$ thỏa mãn nên ta có $D^{\mI'}(x')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Do đó $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $C \equiv \E R.D$, vì $C^\mI(x)$ thỏa mãn nên tồn tại $y \in \Delta^\mI$ sao cho $R^\mI(x, y)$ và $D^\mI(y)$ thỏa mãn. Do $Z(x,x')$ và $R^\mI(x, y)$ thỏa mãn nên tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Vì $Z(y,y')$ và $D^{\mI}(y)$ thoản mãn nên $D^{\mI'}(y')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Vì $R^{\mI'}(x',y')$ và $D^{\mI'}(y')$ thỏa mãn nên ta có $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $C \equiv \V R.D$, khái niệm $C$ được biến đổi thành $\neg \E R.\neg D$ và được chứng minh bằng cách vận dụng $C$ có dạng là một khái niệm phủ định.
		
		\item Trường hợp $C \equiv \E \sigma.\{d\}$, vì $C^\mI(x)$ thỏa mãn nên ta có $\sigma^\mI(x, d)$ thỏa mãn. Vì $Z(x,x')$ thỏa mãn nên theo điều kiện~\eqref{bs:eqD} ta có $\sigma^{\mI'}(x',d)$ thỏa mãn. Do đó $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $\mO \in \PhiDag$ và $C \equiv \{a\}$, vì $C^\mI(x)$ thỏa mãn nên ta có $x=a^\mI$. Do $Z(x,x')$ thỏa mãn nên theo điều kiện~\eqref{bs:eqO0} ta có $x' = a^{\mI'}$. Vậy $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $\mF \in \PhiDag$ và $C \equiv (\leq 1\,R)$, trong đó $R$ là một vai trò đối tượng cơ bản. Vì $Z(x,x')$ thỏa mãn nên ta có $[\sharp\{y \in \Delta^\mI \mid R^\mI(x,y)\} \leq 1] \Leftrightarrow [\sharp\{y' \in \Delta^{\mI'} \mid R^{\mI'}(x',y')\} \leq 1]$. Vì $C^\mI(x)$ thỏa mãn nên $\sharp\{y \in \Delta^\mI \mid R^\mI(x,y)\} \leq 1$ và do đó $\sharp\{y' \in \Delta^{\mI'} \mid R^{\mI'}(x',y')\} \leq 1$. Từ đó suy ra $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $\mN \in \PhiDag$ và $C \equiv (\geq n\,R)$, trong đó $R$ là một vai trò đối tượng cơ bản. Vì $Z(x,x')$ thỏa mãn nên ta có $\sharp\{y \in \Delta^\mI \mid R^\mI(x,y)\} = \sharp\{y' \in \Delta^{\mI'} \mid R^{\mI'}(x',y')\}$. Vì $C^\mI(x)$ thỏa mãn nên $\sharp\{y \in \Delta^\mI \mid R^\mI(x,y)\} \geq n$ và do đó $\sharp\{y' \in \Delta^{\mI'} \mid R^{\mI'}(x',y')\} \geq n$. Từ đó suy ra $C^{\mI'}(x')$ thỏa mãn.
		
		\item Trường hợp $\mN \in \PhiDag$ và $C \equiv (\leq n\,R)$, trong đó $R$ là một vai trò đối tượng cơ bản được chứng minh tương tự như trên.
		
		\item Trường hợp $\mQ \in \PhiDag$ và $C \equiv (\geq n\,R.D)$, trong đó $R$ là một vai trò đối tượng cơ bản. Vì $Z(x,x')$ thỏa mãn nên tồn tại một song ánh $h : \{y \in \Delta^\mI \mid R^\mI(x,y)\} \rightarrow \{y' \in \Delta^{\mI'} \mid R^\mI(x',y')\}$ sao cho $h \subseteq Z$. Vì $C^\mI(x)$ thỏa mãn nên tồn tại các đối tượng $y_1, y_2, \ldots, y_n \in \Delta^\mI$ khác nhau từng đôi một sao cho $R^\mI(x, y_i)$ và $D^\mI(y_i)$ thỏa mãn với mọi $1 \leq i \leq n$. Đặt $y'_i = h(y_i)$. Vì $h \subseteq Z$ nên ta có $Z(y_i, y'_i)$ thỏa mãn. Từ $Z(y_i, y'_i)$ và $D^\mI(y_i)$ thỏa mãn ta suy ra $D^{\mI'}(y'_i)$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Do $R^{\mI'}(x', y'_i)$ và $D^{\mI'}(y'_i)$ thỏa mãn với mọi $1 \leq i \leq n$ nên $C^{\mI'}(x')$ thỏa~mãn.
		
		\item Trường hợp $\mQ \in \PhiDag$ và $C \equiv (\leq\!n\,R.D)$, trong đó $R$ là một vai trò đối tượng cơ bản. Khái niệm $C$ được biến đổi thành $\neg (\geq\!(n+1)\,R.D)$ và được chứng minh bằng cách vận dụng $C$ là một khái niệm có dạng phủ định.
		
		\item Trường hợp $\Self \in \PhiDag$ và $C \equiv \E r.\Self$, vì $C^\mI(x)$ thỏa mãn nên ta có $r^\mI(x,x)$ thỏa mãn. Vì $r^\mI(x,x)$ thỏa mãn nên theo điều kiện~\eqref{bs:eqSelf} ta có $r^{\mI'}(x',x')$ thỏa mãn. Do đó $C^{\mI'}(x')$ thỏa mãn.
	\end{itemize}
	
	\semiItem Xét khẳng định~\eqref{bs:eqR1}. Giả sử $Z(x,x')$ và $R^\mI(x,y)$ thỏa mãn với $x, y \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$, trong đó $R$ là một vai trò đối tượng cơ bản của $\mLSPD$. Chúng ta chứng minh tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
	\begin{itemize}
		\item Trường hợp $R$ là một vai trò nguyên tố (tên vai trò đối tượng), theo điều kiện~\eqref{bs:eqC1} ta suy ra khẳng định là đúng.
		
		\item Trường hợp $R \equiv S_1 \circ S_2$, ta có $(S_1 \circ S_2)^\mI(x,x')$ thỏa mãn. Do đó tồn tại một $z \in \Delta^\mI$ sao cho $S_1^\mI(x,z)$ và $S_2^\mI(z,y)$ thỏa mãn. Vì $Z(x,x')$ và $S_1^\mI(x,z)$ thỏa mãn nên tồn tại $z' \in \Delta^{\mI'}$ sao cho $Z(z,z')$ và $S_1^{\mI'}(x',z')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Vì $Z(z,z')$ và $S_2^\mI(z,y)$ thỏa mãn nên tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(y,y')$ và $S_2^{\mI'}(z',y')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Vì $S_1^{\mI'}(x',z')$ và $S_2^{\mI'}(z',y')$ thỏa mãn nên ta suy ra $(S_1 \circ S_2)^{\mI'}(x',y')$ thỏa mãn. Vậy ta có $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
		
		\item Trường hợp $R \equiv S_1 \mor S_2$, ta có $(S_1 \mor S_2)^\mI(x,y)$ thỏa mãn. Điều này suy ra rằng $S_1^\mI(x,y)$ hoặc $S_2^\mI(x,y)$ thỏa mãn. Không làm mất tính tổng quát, ta giả sử $S_1^\mI(x,y)$ thỏa mãn. Vì $Z(x,x')$ và $S_1^\mI(x,y)$ thỏa mãn nên tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(y,y')$ và $S_1^{\mI'}(x',y')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Vậy ta có $Z(y,y')$ và $(S_1 \mor S_2)^{\mI'}(x',y')$ thỏa mãn. Hay nói cách khác $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
		
		\item Trường hợp $R \equiv S^*$, vì $R^\mI(x,y)$ thỏa mãn nên tồn tại $x_0, x_1, \ldots, x_k \in \Delta^\mI$ với $k \geq 0$ sao cho $x_0 = x$, $x_k = y$ và $S^\mI(x_{i-1}, x_i)$ thỏa mãn với $1 \leq i \leq k$. Đặt $x_0' = x'$. Với $1 \leq i \leq k$ ta có $Z(x_{i-1}, x'_{i-1})$ và $S^\mI(x_{i-1}, x_i)$ thỏa mãn nên tồn tại $x'_i \in \Delta^{\mI'}$ sao cho $Z(x_i, x'_i)$ và $S^{\mI'}(x'_{i-1}, x'_i)$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Đặt $y'=x'_k$. Vì $Z(x_k,x'_k)$ và $(S^*)^{\mI'}(x'_0, x'_k)$ thỏa mãn nên $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa~mãn.
		
		\item Trường hợp $R \equiv (D?)$, vì $R^\mI(x,y)$ thỏa mãn nên ta có $D^\mI(x)$ thỏa mãn và $x=y$. Vì $Z(x,x')$ và $D^\mI(x)$ thỏa mãn nên $D^{\mI'}(x')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}) và do đó $R^{\mI'}(x',x')$ thỏa mãn. Chọn $y' = x'$ ta có $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
		
		\item Trường hợp $R \equiv \varepsilon$, vì $R^\mI(x,y)$ thỏa mãn nên ta có $x=y$. Chọn $y' = x'$. Vì $Z(x,x')$ thỏa mãn nên ta có $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
		
		\item Trường hợp $\mI \in \PhiDag$ và $R \equiv r^-$, khẳng định được chứng minh bằng cách suy luận từ điều kiện~\eqref{bs:eqI1}.
		
		\item Trường hợp $\mU \in \PhiDag$ và $R \equiv U$, vì $Z(x, x')$ và $R^{\mI}(x,y)$ thỏa mãn. Theo điều kiện~\eqref{bs:eqU1}, tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(y,y')$ thỏa mãn. Như vậy $Z(y,y')$ và $R^{\mI'}(x',y')$ thỏa mãn.
	\end{itemize}
	
	\semiItem Khẳng định~\eqref{bs:eqR2} được chứng minh tương tự như~\eqref{bs:eqR1}.
	
	\semiItem Xét khẳng định~\eqref{bs:eqOR} trong trường hợp $\mO \in \PhiDag$. Với $a \in \SigmaDagI$, $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$, giả sử $Z(x,x')$ thỏa mãn chúng ta cần chứng minh nếu $R^\mI(x,a^\mI)$ thỏa mãn thì $R^{\mI'}(x',a^{\mI'})$ thỏa mãn và ngược lại. 
	%
	Giả sử $R^\mI(x,a^\mI)$ thỏa mãn chúng ta chứng minh $R^{\mI'}(x',a^{\mI'})$ thỏa mãn. Việc chứng minh chiều ngược lại được thực hiện tương tự.
	
	\begin{itemize}
		\item Trường hợp $R$ là một vai trò nguyên tố (tên vai trò đối tượng), theo điều kiện~\eqref{bs:eqC1} và~\eqref{bs:eqO0} ta suy ra khẳng định là đúng.
		
		\item Trường hợp $R \equiv S_1 \circ S_2$, vì $R^\mI(x, a^\mI)$ thỏa mãn nên ta có $(S_1 \circ S_2)^\mI(x,a^\mI)$ thỏa mãn. Do đó tồn tại một $z \in \Delta^\mI$ sao cho $S_1^\mI(x,z)$ và $S_2^\mI(z,a^\mI)$ thỏa mãn. Vì $Z(x,x')$ và $S_1^\mI(x,z)$ thỏa mãn nên tồn tại $z' \in \Delta^{\mI'}$ sao cho $Z(z,z')$ và $S_1^{\mI'}(x',z')$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Vì $Z(z,z')$ và $S_2^\mI(z,a^\mI)$ thỏa mãn nên ta suy ra $S_2^{\mI'}(z',a^{\mI'})$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqOR}). Vì $S_1^{\mI'}(x',z')$ và $S_2^{\mI'}(z',a^{\mI'})$ thỏa mãn nên ta có $(S_1 \circ S_2)^{\mI'}(x',a^{\mI'})$ thỏa mãn. Như vậy $R^{\mI'}(x',a^{\mI'})$ thỏa~mãn.
		
		\item Trường hợp $R \equiv S_1 \mor S_2$, vì $R^\mI(x, a^\mI)$ thỏa mãn nên ta có $(S_1 \mor S_2)^\mI(x,a^\mI)$ thỏa mãn. Điều này suy ra rằng $S_1^\mI(x,a^\mI)$ hoặc $S_2^\mI(x,a^\mI)$ thỏa mãn. Không làm mất tính tổng quát, ta giả sử $S_1^\mI(x,a^\mI)$ thỏa mãn. Vì $Z(x,x')$ và $S_1^\mI(x,a^\mI)$ thỏa mãn nên $S_1^{\mI'}(x',a^{\mI'})$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqOR}). Vì $S_1^{\mI'}(x',a^{\mI'})$ thỏa mãn nên $(S_1 \mor S_2)^{\mI'}(x',a^{\mI'})$ thỏa mãn. Do đó $R^{\mI'}(x',a^{\mI'})$ thỏa~mãn.
		
		\item Trường hợp $R \equiv S^*$, vì $R^\mI(x,a^\mI)$ thỏa mãn nên tồn tại $x_0, x_1, \ldots, x_k \in \Delta^\mI$ với $k \geq 0$ sao cho $x_0 = x$, $x_k = a^\mI$ và $S^\mI(x_{i-1}, x_i)$ thỏa mãn với $1 \leq i \leq k$. 
		
		+ Nếu $k=0$, ta có $x=a^\mI$. Do $Z(x,x')$ thỏa mãn nên theo điều kiện~\eqref{bs:eqO0} ta có $x' = a^{\mI'}$. Vì vậy $R^{\mI'}(x',a^{\mI'})$ thỏa mãn.
		
		+ Nếu $k > 0$, đặt $x_0' = x'$. Với $1 \leq i < k$ ta có $Z(x_{i-1}, x'_{i-1})$ và $S^\mI(x_{i-1}, x_i)$ thỏa mãn nên tồn tại $x'_i \in \Delta^\mI$ sao cho $Z(x_i, x'_i)$ và $S^{\mI'}(x'_{i-1}, x'_i)$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqR1}). Do đó $Z(x_{k-1},x'_{k-1})$ và $(S^*)^{\mI'}(x'_0, x'_{k-1})$ thỏa mãn. Vì $Z(x_{k-1},x'_{k-1})$ và $S^\mI(x_{k-1},a^\mI)$ thỏa mãn nên ta có $S^{\mI'}(x'_{k-1},a^{\mI'})$ thỏa mãn (thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqOR}). Vì $(S^*)^\mI(x'_0, x'_{k-1})$ và $S^{\mI'}(x'_{k-1},a^{\mI'})$ thỏa mãn nên $(S^*)^\mI(x'_0, a^{\mI'})$ thỏa mãn. Nghĩa là $R^{\mI'}(x', a^{\mI'})$ thỏa~mãn.
		
		\item Trường hợp $R \equiv (D?)$, vì $R^\mI(x,a^\mI)$ thỏa mãn nên ta có $x=a^\mI$ và $D^\mI(a^\mI)$ thỏa mãn. Vì $Z(x,x')$ thỏa mãn nên theo điều kiện~\eqref{bs:eqO0} thì $x' = a^{\mI'}$. Từ $Z(a^\mI, a^{\mI'})$ và $D^\mI(a^\mI)$ thỏa mãn ta có $D^{\mI'}(a^{\mI'})$
		(thông qua giả thiết đệ quy của khẳng định~\eqref{bs:eqC3}). Từ $x'=a^{\mI'}$ và $D^{\mI'}(a^{\mI'})$ thỏa mãn ta suy ra $R^{\mI'}(x',a^{\mI'})$ thỏa mãn.
		
		\item Trường hợp $R \equiv \varepsilon$, vì $R^\mI(x,a^\mI)$ thỏa mãn nên ta có $x=a^\mI$. Vì $Z(x,x')$ nên theo điều kiện~\eqref{bs:eqO0} ta có $x'=a^{\mI'}$. Do đó $R^{\mI'}(x',a^{\mI'})$ thỏa mãn.
		
		\item Trường hợp $\mI \in \PhiDag$ và $R \equiv r^-$, khẳng định được chứng minh bằng cách suy luận từ điều kiện~\eqref{bs:eqI1} và khẳng định~\eqref{bs:eqR2}.
		
		\item Trường hợp $\mU \in \PhiDag$ và $R \equiv U$, theo định nghĩa diễn dịch của vai trò $U$, ta  có $R^\mI(x,a^\mI)$ và $R^{\mI'}(x',a^{\mI'})$ luôn thỏa mãn.
	\end{itemize}
	\vspace{-7.5ex}
%	\renewcommand{\qedsymbol}{}  
\end{proof}

\subsection{Tính bất biến của khái niệm}
\label{sec:Chap2.ConceptInvariant}

Tính bất biến của khái niệm đối với mô phỏng hai chiều là một trong những tính chất quan trọng trong việc mô hình hóa tính không phân biệt được của các đối tượng. Divroodi và Nguyen~\cite{Divroodi2011B}, Nguyen và Sza{\l}as~\cite{Nguyen2013} đã định nghĩa về khái niệm bất biến trong logic mô~tả như sau.

\begin{Definition}[Khái niệm bất biến]
\label{def:InvariantConcept}
	Một khái niệm $C$ được gọi là {\em bất biến đối với $\mLSPD$-mô phỏng hai chiều} nếu $Z(x, x')$ thỏa mãn thì $x \in C^\mI$ khi và chỉ khi $x' \in C^{\mI'}$ với mọi diễn dịch $\mI$, $\mI'$ trong ngôn ngữ $\mLSP$ thỏa $\SigmaDag \subseteq \Sigma$, $\PhiDag \subseteq \Sigma$ và với mọi $\mLSPD$-mô phỏng hai chiều $Z$ giữa $\mI$ và~$\mI'$.\myend
\end{Definition}

Định lý~\ref{th:ConceptInvariant} sau đây được phát triển và chứng minh dựa trên Định lý~3.4 của Divroodi và Nguyen~\cite{Divroodi2011B}. Điểm khác ở đây là nó được áp dụng cho một lớp lớn hơn các logic mô tả như đã đề cập trong Mục~\ref{sec:Chap1.LSPLanguage} của Chương~\ref{Chapter1}.

\begin{Theorem}
	\label{th:ConceptInvariant}
	Tất cả các khái niệm của $\mLSPD$ đều bất biến đối với $\mLSPD$-mô phỏng hai chiều.\myend
\end{Theorem}

\begin{proof}
	Giả sử $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$, $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$ sao cho $Z(x, x')$ thỏa mãn và $C$ là một khái niệm bất kỳ của $\mLSPD$. Áp dụng khẳng định~\eqref{bs:eqC3} của Bổ đề~\ref{lm:Condition} ta có $C^\mI(x) \Leftrightarrow C^{\mI'}(x')$. Nghĩa là, $Z(x,x')$ thỏa mãn thì $x \in C^\mI$ khi và chỉ khi $x' \in C^{\mI'}$. Theo Định nghĩa~\ref{def:InvariantConcept}, $C$ là một khái niệm bất biến.
\end{proof}

Định lý này cho phép mô hình hóa tính không phân biệt được của các đối tượng thông qua ngôn ngữ con $\mLSPD$. Tính không phân biệt của các đối tượng là một trong những đặc trưng cơ bản trong quá trình phân lớp dữ liệu. Điều này có nghĩa là chúng ta có thể sử dụng ngôn ngữ con $\mLSPD$ cho các bài toán học máy trong logic mô tả.

\subsection{Tính bất biến của cơ sở tri thức}
\label{sec:Chap2.KnowlwdgeBaseInvariant}

Các định nghĩa, định lý, hệ quả trình bày trong mục này được xây dựng và chứng minh dựa trên những kết quả của công trình~\cite{Divroodi2011B}. Điểm khác ở đây là các kết quả được phát triển trên lớp các logic mô tả lớn hơn đã đề cập trong Mục~\ref{sec:Chap1.LSPLanguage} của Chương~\ref{Chapter1}.

\begin{Definition}
\label{def:BoxInvariant}
	Một TBox $\mT$ (tương ứng, ABox $\mA$) trong $\mLSPD$ được gọi là {\em bất biến đối với $\mLSPD$-mô phỏng hai chiều} nếu với mọi diễn dịch $\mI$ và $\mI'$ trong $\mLSP$ tồn tại một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ sao cho $\mI$ là mô hình của $\mT$ (tương ứng, $\mA$) khi và chỉ khi $\mI'$ là mô hình của $\mT$ (tương ứng, $\mA$).\myend
\end{Definition}

\begin{Corollary}
	\label{co:TBoxInvariant}
	Nếu $\mU \in \PhiDag$ thì tất cả các TBox trong $\mLSPD$ đều bất biến đối với $\mLSPD$-mô phỏng hai chiều.\myend
\end{Corollary}

\begin{proof}
	Giả sử $\mU \in \PhiDag$, $\mT$ là một TBox trong $\mLSPD$, $\mI$ và $\mI'$ là các diễn dịch trong ngôn ngữ $\mLSP$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Chúng ta cần chứng minh nếu $\mI$ là mô hình của $\mT$ thì $\mI'$ cũng là mô hình của $\mT$ và ngược lại. Giả sử $\mI$ là mô hình của $\mT$, ta cần chỉ ra rằng $\mI'$ cũng là mô hình của $\mT$. Chiều ngược lại được chứng minh tương~tự.
	
	Xét $C \sqsubseteq D$ là một tiên đề thuật ngữ bất kỳ của TBox $\mT$ và $x' \in \Delta^{\mI'}$. Theo điều kiện~\eqref{bs:eqU2}, tồn tại $x \in \Delta^\mI$ sao cho $Z(x, x')$ thỏa mãn. Vì $\mI$ là mô hình của $\mT$ nên ta có $x \in (\neg C \mor D)^\mI$. Theo khẳng định~\eqref{bs:eqC3} của Bổ đề~\ref{lm:Condition} ta suy ra $x' \in (\neg C \mor D)^{\mI'}$. Do vậy $\mI'$ cũng là mô hình của $\mT$.
\end{proof}

Một diễn dịch $\mI$ trong $\mLSP$ được gọi là {\em kết nối đối tượng được đối với $\mLSPD$} nếu với mọi đối tượng $x \in \Delta^\mI$ tồn tại cá thể $a \in \SigmaDagI$, các đối tượng $x_0, x_1, \ldots, x_k \in \Delta^\mI$ và các vai trò đối tượng cơ bản $R_1, R_2, \ldots, R_k$ của $\mLSPD$ với $k \geq 0$ sao cho $x_0 = a^\mI$, $x_k = x$ và $R_i^{\mI}(x_{i-1}, x_i)$ thỏa mãn với mọi $1 \leq i \leq k$.

\begin{Theorem}
\label{th:TBoxInvariant}
	Cho $\mT$ là một TBox trong $\mLSPD$, $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ thỏa điều kiện kết nối đối tượng được đối với $\mLSPD$ sao cho tồn tại một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Lúc đó $\mI$ là mô hình của $\mT$ khi và chỉ khi $\mI'$ là mô hình của $\mT$.\myend
\end{Theorem}

\begin{proof}
	Gọi $\mT$ là một TBox trong $\mLSPD$. Giả sử $\mI$ và $\mI'$ là các diễn dịch kết nối đối tượng được trong $\mLSPD$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Chúng ta cần chứng minh nếu $\mI$ là mô hình của $\mT$ thì $\mI'$ cũng là mô hình của $\mT$ và ngược lại. Giả sử $\mI$ là mô hình của $\mT$, ta cần chỉ ra $\mI'$ là mô hình của $\mT$. Chiều ngược lại được chứng minh tương~tự.
	
	Xét $C \sqsubseteq D$ là một tiên đề bất kỳ của TBox $\mT$. Để chứng minh $\mI'$ cũng là mô hình của~$\mT$, chúng ta cần chỉ ra rằng $C^{\mI'} \subseteq D^{\mI'}$. Nghĩa là, với mọi $x' \in C^{\mI'}$ thì $x' \in D^{\mI'}$. Vì $\mI'$ là một diễn dịch kết nối đối tượng được trong $\mLSPD$ nên tồn tại cá thể $a \in \SigmaDagI$, các đối tượng $x'_0, x'_1, \ldots, x'_k \in \Delta^{\mI'}$ và các vai trò đối tượng cơ bản $R_1, R_2, \ldots, R_k$ của $\mLSPD$ với $k \geq 0$ sao cho $x'_0 = a^{\mI'}$, $x'_k = x'$ và $R_i^{\mI'}(x'_{i-1}, x'_i)$ thỏa mãn với mọi $1 \leq i \leq k$.
	
	Vì $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ nên ta có $Z(a^\mI, a^{\mI'})$ thỏa mãn (theo điều kiện~\eqref{bs:eqA}). Đặt $x_0 = a^\mI$. Với mỗi $1 \leq i \leq k$, ta có $Z(x_{i-1},x'_{i-1})$ và $R_i^{\mI'}(x'_{i-1},x'_i)$ thỏa mãn nên tồn tại $x_i \in \Delta^\mI$ sao cho $Z(x_i, x'_i)$ và $R_i^\mI(x_{i-1}, x_i)$ thỏa mãn (theo khẳng định~\eqref{bs:eqR2}). Đặt $x=x_k$, ta có $Z(x,x')$ thỏa mãn. Vì $x' \in C^{\mI'}$ nên $x \in C^\mI$ (theo khẳng định~\eqref{bs:eqC3}). Do $\mI$ là mô hình của $\mT$ nên ta có $x \in D^\mI$. Từ $Z(x, x')$ thỏa mãn và $x \in D^\mI$ ta suy ra $x' \in D^{\mI'}$ (theo khẳng định~\eqref{bs:eqC3}). Do vậy $\mI'$ là mô hình của~$\mT$.
\end{proof}

\begin{Theorem}
\label{th:ABoxInvariant}
	Cho $\mA$ là một ABox trong $\mLSPD$. Nếu $\mO \in \PhiDag$ hoặc $\mA$ chỉ chứa các khẳng định dạng $C(a)$ thì $\mA$ bất biến đối với $\mLSPD$-mô phỏng hai chiều.\myend
\end{Theorem}

\begin{proof}
	Giả thiết $\mO \in \PhiDag$ hoặc $\mA$ chỉ chứa các khẳng định dạng $C(a)$. Gọi $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Chúng ta cần chứng minh nếu $\mI$ là mô hình của $\mA$ thì $\mI'$ cũng là mô hình của $\mA$ và ngược lại. Giả sử $\mI$ là mô hình của $\mA$, chúng ta cần chỉ ra $\mI'$ cũng là mô hình của $\mA$. Chiều ngược lại được chứng minh tương tự.
	
	Xét $\varphi$ là một khẳng định bất kỳ của $\mA$, chúng ta cần chỉ ra $\mI' \models \varphi$.
	
	\semiItem Trường hợp $\varphi = (a=b)$, vì $\mI \models \varphi$ nên ta có $a^\mI = b^\mI$. Theo điều kiện~\eqref{bs:eqA} thì $Z(a^\mI, a^{\mI'})$ và $Z(b^\mI, b^{\mI'})$ thỏa mãn. Vì $a^\mI = b^\mI$ nên theo~\eqref{bs:eqO0} ta có $a^{\mI'} = b^{\mI'}$. Do vậy $\mI' \models \varphi$.
	
	\semiItem Trường hợp $\varphi = (a\not=b)$ được chứng minh tương tự như trường hợp trên.
	
	\semiItem Trường hợp $\varphi = C(a)$, vì $\mI \models \varphi$ nên ta có $C^\mI(a^\mI)$ thỏa mãn. Theo điều kiện~\eqref{bs:eqA} thì $Z(a^\mI, a^{\mI'})$ thỏa mãn. Vì $Z(a^\mI, a^{\mI'})$ và $C^\mI(a^\mI)$ thỏa mãn nên theo khẳng định~\eqref{bs:eqC3} thì $C^{\mI'}(a^{\mI'})$ thỏa mãn. Do vậy $\mI' \models \varphi$.
	
	\semiItem Trường hợp $\varphi = R(a,b)$, vì $\mI \models \varphi$ nên ta có $R^\mI(a^\mI, b^\mI)$ thỏa mãn. Theo điều kiện~\eqref{bs:eqA} thì $Z(a^\mI, a^{\mI'})$ thỏa mãn. Vì $Z(a^\mI, a^{\mI'})$ và $R^{\mI}(a^\mI, b^\mI)$ thỏa mãn nên theo khẳng định~\eqref{bs:eqR1}, tồn tại $y' \in \Delta^{\mI'}$ sao cho $Z(b^\mI, y')$ và $R^{\mI'}(a^{\mI'}, y')$ thỏa mãn. Theo giả thiết $\mO \in \PhiDag$, ta chọn $C \equiv \{b\}$. Vì $Z(b^\mI, y')$ và $C^\mI(b^\mI)$ thỏa mãn nên ta có $C^{\mI'}(y')$ thỏa mãn (theo khẳng định~\eqref{bs:eqC3}). Điều này có nghĩa là $y' = b^{\mI'}$ và $R^{\mI'}(a^{\mI'},b^{\mI'})$ thỏa~mãn. Do vậy $\mI' \models \varphi$.
	
	\semiItem Trường hợp $\varphi = \neg R(a,b)$ được chứng minh tương tự như trường hợp trên.
\end{proof}

Hệ quả sau đây xem xét cơ sở tri thức trong trường hợp RBox bằng rỗng. Lúc đó cơ sở tri thức chỉ còn TBox và ABox và do đó tính bất biến của cơ sở tri thức có thể được suy ra trực tiếp từ Định lý~\ref{th:TBoxInvariant} và Định lý~\ref{th:ABoxInvariant}.

\begin{Corollary}
\label{co:KnowledgeBaseInvariant}
	Cho cơ sở tri thức $\KB = \tuple{\mR, \mT, \mA}$ trong $\mLSPD$ sao cho $\mR = \emptyset$ và giả thiết $\mO \in \PhiDag$ hoặc $\mA$ chỉ chứa các khẳng định có dạng $C(a)$, $\mI$ và $\mI'$ là các diễn dịch kết nối đối tượng được trong $\mLSPD$ sao cho tồn tại một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$. Lúc đó $\mI$ là mô hình của $\KB$ khi và chỉ khi $\mI'$ là mô hình của $\KB$.\myend
\end{Corollary}

\section{Tính chất Hennessy-Milner đối với mô phỏng hai chiều}

\begin{Definition}
\label{def:FiniteImage}
	Một diễn dịch $\mI$ trong $\mLSP$ được gọi là {\em phân nhánh hữu hạn} (hay {\em hữu hạn ảnh}) đối với $\mLSPD$ nếu với mọi $x \in \Delta^\mI$ và với mọi vai trò $r \in \SigmaDagOR$ thì:
	\begin{itemize}
		\item tập $\{y \in \Delta^\mI \mid r^\mI(x,y)\}$ là hữu hạn,
		
		\item nếu $\mI \in \PhiDag$ thì tập $\{y \in \Delta^\mI \mid r^\mI(y, x)\}$ là hữu hạn.\myend
	\end{itemize}
\end{Definition}

Tính chất Hennessy-Milner đối với mô phỏng hai chiều trong Đinh lý~\ref{th:HennessyMilnerProperty} và Hệ quả~\ref{co:EquivalenceRelation} sau đây được phát triển và chứng minh dựa trên các kết quả của nghiên cứu~\cite{Divroodi2011B} cho một lớp lớn hơn các logic mô tả.

\begin{Theorem}[Tính chất Hennessy-Milner]
\label{th:HennessyMilnerProperty}
	Cho $\Sigma$ và $\SigmaDag$ là các bộ ký tự logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\PhiDag$ là tập các đặc trưng của logic mô tả sao cho $\PhiDag \subseteq \Phi$, $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ thỏa mãn điều kiện phân nhánh hữu hạn đối với $\mLSPD$, sao cho với mọi $a \in \SigmaDagI$, $a^\mI$ $\mLSPD$-tương đương với $a^{\mI'}$. Giả thiết rằng $\mU \not \in \PhiDag$ hoặc $\SigmaDagI \not= \emptyset$. Lúc đó, $x \in \Delta^\mI$ $\mLSPD$-tương đương với $x' \in \Delta^{\mI'}$ khi và chỉ khi tồn tại một $\mLSPD$-mô phỏng hai chiều $Z$ giữa $\mI$ và $\mI'$ sao cho $Z(x, x')$ thỏa mãn.\myend
\end{Theorem}

\begin{proof}
	Giả sử $\Sigma$ và $\SigmaDag$ là các bộ ký tự logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\PhiDag$ là tập các đặc trưng của logic mô tả sao cho $\PhiDag \subseteq \Phi$, $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ thỏa mãn điều kiện phân nhánh hữu hạn đối với $\mLSPD$, sao cho với mọi $a \in \SigmaDagI$, $a^\mI$ $\mLSPD$-tương đương với $a^{\mI'}$. Giả thiết rằng $\mU \not \in \PhiDag$ hoặc $\SigmaDagI \not= \emptyset$. Ta cần phải chứng minh: (*) Với $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$, nếu $x$ $\mLSPD$-tương đương với $x'$ thì tồn tại một $\mLSPD$-mô phỏng hai chiều $Z$ giữa $\mI$ và $\mI'$ sao cho $Z(x, x')$ thỏa mãn. 
	(**) Nếu tồn tại một $\mLSPD$-mô phỏng hai chiều $Z$ giữa $\mI$ và $\mI'$ sao cho $Z(x, x')$ thỏa mãn thì $x$~$\mLSPD$-tương đương với $x'$, trong đó $x \in \Delta^\mI$ và $x' \in \Delta^{\mI'}$.
	
	Đầu tiên, ta chứng minh khẳng định (*). Giả sử có $x \in \Delta^\mI$, $x' \in \Delta^{\mI'}$ thỏa mãn $x$ $\mLSPD$-tương đương với $x'$.
	Ta định nghĩa quan hệ $Z$ như sau:
	$$Z = \{\tuple{x,x'} \in \Delta^\mI \times \Delta^{\mI'} \mid x\ \mLSPD \textnormal{-tương đương với } x'\},$$
	và chỉ ra rằng $Z$ là một mô phỏng hai chiều giữa $\mI$ và $\mI'$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqA}, vì theo giả thiết $a^\mI$ $\mLSPD$-tương đương với $a^{\mI'}$ nên $Z(a^\mI, a^{\mI'})$ thỏa mãn.
	
	\semiItem Xét điều kiện~\eqref{bs:eqB1} và giả sử $Z(x,x')$ thỏa mãn. Theo định nghĩa của quan hệ $Z$ và quan hệ $\mLSPD$-tương đương, ta có $A^\mI(x)$ thỏa mãn khi và chỉ khi $A^{\mI'}(x')$ thỏa mãn với mọi tên khái niệm $A \in \SigmaDagC$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqB2} và giả sử $Z(x,x')$ thỏa mãn. Nếu $B^\mI(x)$ xác định và $B^\mI(x) = d$. Lúc đó ta có $x \in (B=d)^\mI$. Vì $x \in (B=d)^\mI$ và theo định nghĩa của quan hệ $Z$ và quan hệ $\mLSPD$-tương đương nên $x' \in (B=d)^{\mI'}$. Nói cách khác $B^{\mI'}(x') = d$ và do đó $B^\mI(x) = B^{\mI'}(x')$. Tương tự, nếu $B^{\mI'}(x')$ xác định thì $B^\mI(x)$ xác định. Từ đó suy ra $B^\mI(x)$ không xác định khi và chỉ khi $B^{\mI'}(x')$ không xác định. Vậy ta có $B^\mI(x) = B^{\mI'}(x')$ hoặc cả hai không xác định.
	
	\semiItem Xét điều kiện~\eqref{bs:eqC1} và giả sử $Z(x,x')$, $r^\mI(x,y)$ thỏa mãn. Đặt $S = \{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}$, ta cần chỉ ra rằng tồn tại $y' \in S$ sao cho $Z(y,y')$ thỏa mãn. Vì $r^\mI(x,y)$ thỏa mãn nên $x \in (\E r.\top)^\mI$. Vì $x$ $\mLSPD$-tương đương với $x'$ nên $x' \in (\E r.\top)^{\mI'}$. Từ $x' \in (\E r.\top)^{\mI'}$ ta suy ra $S \not= \emptyset$. Mặt khác, $\mI'$ là một diễn dịch phân nhánh hữu hạn đối với $\mLSPD$ nên $S$ là một tập hữu hạn. Gọi $y'_1, y'_2, \ldots, y'_n$ là các phần tử của $S$, ta có $n \geq 1$.
	Giả sử $Z(y,y'_i)$ không thỏa mãn với mọi $1 \leq i \leq n$. Điều này suy ra $y$ không $\mLSPD$-tương đương với $y'_i$ với mọi $1 \leq i \leq n$. Nghĩa là, với mỗi $1 \leq i \leq n$, tồn tại khái niệm $C_i$ sao cho $y \in C_i^\mI$ và $y'_i \not\in C_i^{\mI'}$. Đặt $C \equiv \E r.(C_1 \mand C_2 \mand \cdots \mand C_n)$, ta có $x \in C^\mI$ và $x' \not\in C^{\mI'}$. Điều này mâu thuẩn với giả thiết $x$ $\mLSPD$-tương đương với $x'$. Do vậy tồn tại $y'_i \in S$ sao cho $Z(y, y'_i)$ thỏa mãn.
	
	\semiItem Điều kiện~\eqref{bs:eqC2} được chứng minh tương tự như điều kiện~\eqref{bs:eqC1}.
	
	\semiItem{}Xét điều kiện~\eqref{bs:eqD} và giả sử $Z(x,x')$ thỏa mãn. Bằng cách thay khái niệm $A$ trong điều kiện~\eqref{bs:eqB1} bởi khái niệm $\E \sigma.\{d\}$, ta suy ra được $x \in (\E \sigma.\{d\})^\mI$ khi và chỉ khi $x' \in (\E \sigma.\{d\})^{\mI'}$. Vì vậy, $\sigma^\mI(x,d) \Leftrightarrow \sigma^{\mI'}(x',d)$.
%	\semiItem Xét điều kiện~\eqref{bs:eqD} và giả sử $Z(x,x')$ thỏa mãn. Nếu $\sigma^\mI(x,d)$ thỏa mãn (tương ứng, không thỏa mãn) ta chứng minh $\sigma^{\mI'}(x',d)$ cũng thỏa mãn (tương ứng, không thỏa mãn). Chiều ngược lại được chứng minh một cách tương tự.
%	\begin{itemize}
%		\item Giả sử rằng $\sigma^\mI(x,d)$ thỏa mãn. Vì $\sigma^\mI(x,d)$ thỏa mãn nên $x \in (\E \sigma.\{d\})^\mI$. Từ $Z(x,x')$ thỏa mãn nên $x$ $\mLSPD$-tương đương với $x'$ và do đó $x' \in (\E \sigma.\{d\})^{\mI'}$. Vì $x' \in (\E \sigma.\{d\})^{\mI'}$ nên ta có $\sigma^{\mI'}(x',d)$ thỏa mãn.
%		
%		\item Giả sử rằng $\sigma^\mI(x,d)$ không thỏa mãn. Vì $\sigma^\mI(x,d)$ không thỏa mãn nên $x \not\in (\E \sigma.\{d\})^\mI$. Từ $Z(x,x')$ thỏa mãn nên $x$ $\mLSPD$-tương đương với $x'$ và do đó $x' \not\in (\E \sigma.\{d\})^{\mI'}$. Vì $x' \not\in (\E \sigma.\{d\})^{\mI'}$ nên ta có $\sigma^{\mI'}(x',d)$ không thỏa mãn.
%	\end{itemize}
	
	\semiItem Điều kiện~\eqref{bs:eqI1} và~\eqref{bs:eqI2} trong trường hợp $\mI \in \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqC1} và~\eqref{bs:eqC2} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqO0} trong trường hợp $\mO \in \PhiDag$ và giả sử $Z(x,x')$ thỏa mãn. Đặt $C \equiv \{a\}$. Vì $x$ $\mLSPD$-tương đương với $x'$ nên $x \in C^\mI$ khi và chỉ khi $x' \in C^{\mI'}$. Do đó ta có $x = a^\mI$ khi và chỉ khi $x' = a^{\mI'}$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqN} trong trường hợp $\mN \in \PhiDag$ và giả sử $Z(x,x')$ thỏa mãn. Đặt $S = \{y \in \Delta^\mI \mid r^\mI(x,y)\}$ và $S' = \{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}$. Vì $\mI$ và $\mI'$ là các diễn dịch phân nhánh hữu hạn đối với $\mLSPD$ nên $S$ và $S'$ là hữu hạn. Nếu $S=\emptyset$, ta có $x \notin (\E r.\top)^\mI$ và do $x$ $\mLSPD$-tương đương với $x'$ nên ta có $x' \notin (\E r.\top)^{\mI'}$. Vì $x' \notin (\E r.\top)^{\mI'}$ nên ta có $S' = \emptyset$. Từ đó suy ra $\sharp S = 0 = \sharp S'$. Nếu $S \not= \emptyset$, gọi $y_1, y_2, \ldots, y_n$ là các phần tử của $S$ với $n \geq 1$. Rõ ràng $x \in (\geq n\,r.\top)^\mI$ và $x \in (\leq n\,r.\top)^\mI$. Do $x$ $\mLSPD$-tương đương với $x'$ nên ta có $x' \in (\geq n\,r.\top)^{\mI'}$ và $x' \in (\leq n\,r.\top)^{\mI'}$. Vì $x' \in (\geq n\,r.\top)^{\mI'}$ nên $\sharp S' \geq n$ và vì $x' \in (\leq n\,r.\top)^{\mI'}$ nên $\sharp S' \leq n$. Từ đó suy ra $\sharp S = n = \sharp S'$. Nói cách khác $\sharp\{y \in \Delta^\mI \mid r^\mI(x,y)\} = \sharp\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}$.
	
	\semiItem Điều kiện~\eqref{bs:eqNI} trong trường hợp $\{\mN,\mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqN} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqF} trong trường hợp $\mF \in \PhiDag$ và giả sử $Z(x,x')$ thỏa mãn. Đặt $C \equiv (\leq\!1\,r)$. Nếu $x \in C^\mI$ thì $\sharp\{y \in \Delta^\mI \mid r^\mI(x,y)\} \leq 1$. Vì $x \in C^\mI$ và $x$ $\mLSP$-tương đương với $x'$ nên $x' \in C^{\mI'}$ và do đó $\sharp\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\} \leq 1$. Tương tự, nếu $x \notin C^\mI$ thì $x' \notin C^{\mI'}$, do đó $\sharp\{y \in \Delta^\mI \mid r^\mI(x,y)\} > 1$ và $\sharp\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\} > 1$. Vậy ta có $[\sharp\{y \in \Delta^\mI \mid r^\mI(x,y)\} \leq 1] \Leftrightarrow [\sharp\{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\} \leq 1]$.
	
	\semiItem Điều kiện~\eqref{bs:eqFI} trong trường hợp $\{\mF,\mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqF} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqQ} trong trường hợp $\mQ \in \PhiDag$ và giả sử $Z(x,x')$ thỏa mãn. Đặt $S = \{y \in \Delta^\mI \mid r^\mI(x,y)\}$ và $S' = \{y' \in \Delta^{\mI'} \mid r^{\mI'}(x',y')\}$. Vì $\mI$ và $\mI'$ là các diễn dịch phân nhánh hữu hạn đối với $\mLSPD$ nên $S$ và $S'$ là hữu hạn. 
	Giả sử không tồn tại một song ánh $h : S \rightarrow S'$ nào sao cho $h \subseteq Z$. Từ giả thiết này ta suy ra tồn tại một $y'' \in S \cup S'$ sao cho với $y_1, y_2, \ldots, y_k \in S$ và $y'_1, y'_2, \ldots, y'_{k'} \in S'$ khác nhau từng đôi một $\mLSPD$-tương đương với $y''$, ta có $k \not= k'$. Đặt $\mI'' = \mI$ nếu $y'' \in S$ và $\mI'' = \mI'$ nếu $y'' \in S'$. Đặt $\{z_1, z_2, \ldots, z_h\} = S \setminus \{y_1, y_2, \ldots, y_k\}$ và $\{z'_1, z'_2, \ldots, z'_{h'}\} = S \setminus \{y'_1, y'_2, \ldots, y'_{k'}\}$. Với mỗi $1 \leq i \leq h$ tồn tại $C_i$ sao cho $y'' \in C_i^{\mI''}$ và $z_i \notin C_i^{\mI}$. Tương tự, với mỗi $1 \leq i \leq h'$ tồn tại $D_i$ sao cho $y'' \in D_i^{\mI''}$ và $z'_i \notin D_i^{\mI'}$. Đặt $C \equiv (C_1 \mand C_2 \mand \cdots \mand C_h \mand D_1 \mand D_2 \mand \cdots \mand D_{h'})$. Chúng ta có $\{y_1, y_2, \ldots, y_k\} \subseteq C^\mI$ và $\{z_1, z_2, \ldots, z_h\} \cap C^\mI = \emptyset$. Tương tự như thế, $\{y'_1, y'_2, \ldots, y'_{k'}\} \subseteq C^{\mI'}$ và $\{z'_1, z'_2, \ldots, z'_{h'}\} \cap C^{\mI'} = \emptyset$. Nếu $k > k'$ thì $x \in (\geq\!k\,r.C)^\mI$ và $x' \notin (\geq\!k\,r.C)^{\mI'}$. Nếu $k < k'$ thì $x \notin (\geq\!k'\,r.C)^\mI$ và $x' \in (\geq\!k'\,r.C)^{\mI'}$. Điều này trái với giả thiết $x$ $\mLSPD$-tương đương với $x'$. Do vậy điều kiện~\eqref{bs:eqQ} thỏa mãn.
	
	\semiItem Điều kiện~\eqref{bs:eqQI} trong trường hợp $\{\mQ,\mI\} \subseteq \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqQ} bằng cách thay vai trò $r$ bởi vai trò $r^-$.
	
	\semiItem Xét điều kiện~\eqref{bs:eqU1} trong trường hợp $\mU \in \PhiDag$. Vì $\mI$ và $\mI'$ là các diễn dịch phân nhánh hữu hạn đối với $\mLSPD$ và $U \in \SigmaDagOR$ nên $\mI$ và $\mI'$ là hữu hạn. Giả sử $\Delta^{\mI'} = \{x'_1, x'_2, \ldots, x'_n\}$ với $n \geq 1$. Lấy một đối tượng bất kỳ $x \in \Delta^\mI$, giả sử rằng $x$ không $\mLSPD$-tương đương với $x'_i$ với mọi $1 \leq i \leq n$. Lúc đó, với mỗi $1 \leq i \leq n$ tồn tại một khái niệm $C_i$ sao cho $x'_i \in C_i^{\mI'}$ và $x \notin C_i^{\mI}$. Đặt $C \equiv (C_1 \mor C_2 \mor \cdots \mor C_n)$ và $a \in \SigmaDagI$ là một tên cá thể, ta có $a^{\mI'} \in (\V U.C)^{\mI'}$ và $a^{\mI} \notin (\V U.C)^{\mI}$. Điều này trái với giả thiết $a^\mI$ $\mLSPD$-tương đương với $a^{\mI'}$. Do đó, tồn tại $x'_i \in \Delta^{\mI'}$ sao cho $Z(x, x'_i)$ thỏa mãn.
	
	\semiItem Điều kiện~\eqref{bs:eqU2} trong trường hợp $\mU \in \PhiDag$ được chứng minh tương tự như điều kiện~\eqref{bs:eqU1}.
	
	\semiItem Xét điều kiện~\eqref{bs:eqSelf} trong trường hợp $\Self \in \PhiDag$ và giả sử $Z(x,x')$ thỏa mãn. Vì $x$ $\mLSPD$-tương đương với $x'$ nên $x \in (\E r.\Self)^\mI$ khi và chỉ khi $x' \in (\E r.\Self)^{\mI'}$. Do vậy $r^\mI(x,x)$ thỏa mãn khi và chỉ khi $r^{\mI'}(x',x')$ thỏa mãn.
	
	Chứng minh khẳng định (**). Giả sử $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ thỏa điều kiện phân nhánh hữu hạn đối với $\mLSPD$, $Z$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$ sao cho $Z(x,x')$ thỏa mãn. Theo khẳng định~\eqref{bs:eqC3}, với mọi khái niệm $C$ của $\mLSPD$, $C^\mI(x)$ thỏa mãn khi và chỉ khi $C^{\mI'}(x')$ thỏa mãn. Do đó $x$ $\mLSPD$-tương đương với $x'$.
\end{proof}

\begin{Corollary}
\label{co:EquivalenceRelation}
	Cho $\Sigma$ và $\SigmaDag$ là các bộ ký tự logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\PhiDag$ là tập các đặc trưng của logic mô tả sao cho $\PhiDag \subseteq \Phi$, $\mI$ và $\mI'$ là các diễn dịch trong $\mLSP$ thỏa điều kiện phân nhánh hữu hạn đối với $\mLSPD$. Giả thiết rằng $\SigmaDagI \not= \emptyset$ và với mọi $a \in \SigmaDagI$, $a^\mI$ $\mLSPD$-tương đương với $a^{\mI'}$.
	Lúc đó, quan hệ $\{\tuple{x, x'} \in \Delta^\mI \times \Delta^{\mI'} \mid x $ $\mLSPD$-tương đương với $x'\}$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và $\mI'$.\myend
\end{Corollary}

\section{Tự mô phỏng hai chiều}
\label{sec:Chap2.AutoBisimulation}

\begin{Definition}[Tự mô phỏng hai chiều]
\label{def:AutoBisimulation}
	Cho $\mI$ là một diễn dịch trong $\mLSP$. Một {\em $\mLSPD$-tự mô phỏng hai chiều} của $\mI$ là một $\mLSPD$-mô phỏng hai chiều giữa $\mI$ và chính nó. Một $\mLSPD$-tự mô phỏng hai chiều $Z$ của $\mI$ được gọi là {\em lớn nhất} nếu với mọi $\mLSPD$-tự mô phỏng hai chiều $Z'$ của $\mI$ thì $Z' \subseteq Z$.\myend
\end{Definition}

Cho $\mI$ là một diễn dịch trong $\mLSP$, chúng ta ký hiệu $\mLSPD$-tự mô phỏng hai chiều lớn nhất của~$\mI$ là $\sim_\SdPdI$, và ký hiệu quan hệ nhị phân $\equiv_\SdPdI$ trên $\Delta^\mI$ là quan hệ thỏa mãn tính chất $x \equiv_\SdPdI x'$ khi và chỉ khi $x$ $\mLSPD$-tương đương với~$x'$.

Định lý~\ref{th:AutoBisimulation} sau đây được phát triển và chứng minh dựa trên các kết quả trong các nghiên cứu~\cite{Divroodi2011B,Nguyen2013} cho một lớp lớn hơn các logic mô tả.

\begin{Theorem} 
\label{th:AutoBisimulation}
	Cho $\Sigma$ và $\SigmaDag$ là các bộ ký tự của logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\Phi^\dag$ là tập các đặc trưng của logic mô tả sao cho $\Phi^\dag \subseteq \Phi$, $\mI$ là một diễn dịch trong $\mLSP$. Lúc đó:
	\begin{enumerate}
		\item $\mLSPD$-tự mô phỏng hai chiều lớn nhất của $\mI$ tồn tại và nó là một quan hệ tương~đương,\label{th:AutoBisimulation-item1}  
		\item nếu $\mI$ là một phân nhánh hữu hạn đối với $\mLSPD$ thì quan hệ $\equiv_\SdPdI$ là một $\mLSPD$-tự mô phỏng hai chiều lớn nhất của $\mI$ (nghĩa là, quan hệ $\equiv_\SdPdI$ và $\sim_\SdPdI$ trùng khớp~nhau).\label{th:AutoBisimulation-item2}\myend
	\end{enumerate}
\end{Theorem}

\begin{proof}~

\semiItem Khẳng định thứ nhất được suy ra trực tiếp từ khẳng định thứ nhất của Bổ đề~\ref{lm:Bisimulation}.

\semiItem Xét khẳng định thứ hai, nếu $\mU \notin \PhiDag$ hoặc $\SigmaDag \not= \emptyset$ thì theo Định lý~\ref{th:HennessyMilnerProperty}, $\equiv_\SdPdI$ là một $\mLSPD$-tự mô phỏng hai chiều của $\mI$.
Trường hợp $\mU \in \PhiDag$ và $\SigmaDagI = \emptyset$
là cần thiết cho Định lý~\ref{th:HennessyMilnerProperty} để chứng minh điều kiện~\eqref{bs:eqU1} và~\eqref{bs:eqU2}. Thật vậy, trong trường hợp $\mU \in \PhiDag$ và $\SigmaDagI = \emptyset$, các điều kiện này rõ ràng thỏa mãn khi $\mI' = \mI$. Như vậy $\equiv_\SdPdI$ là một $\mLSPD$-tự mô phỏng hai chiều của $\mI$.

Bây giờ chúng ta chứng minh $\equiv_\SdPdI$ là một $\mLSPD$-tự mô phỏng hai chiều lớn nhất của~$\mI$. Giả sử $Z$ là một $\mLSPD$-tự mô phỏng hai chiều bất kỳ của $\mI$. Với mọi $x \in \Delta^\mI$ và $x' \in \Delta^\mI$, ta cần chỉ ra nếu $Z(x,x')$ thỏa mãn thì $x \equiv_\SdPdI x'$. Vì $Z$ là một $\mLSPD$-tự mô phỏng hai chiều của $\mI$ và $Z(x,x')$ thỏa mãn nên theo khẳng định~\eqref{bs:eqC3} với mọi khái niệm $C$ của $\mLSPD$, $C^\mI(x)$ thỏa mãn khi và chỉ khi $C^\mI(x')$ thỏa mãn và do đó $x \equiv_\SdPdI x'$. Do đó ta có $Z \subseteq\ \equiv_\SdPdI$. Vậy $\equiv_\SdPdI$ là một $\mLSPD$-tự mô phỏng hai chiều lớn nhất của $\mI$.
\end{proof}

Chúng ta nói rằng tập $Y$ {\em bị phân chia} bởi tập $X$ nếu $Y \setminus X \neq \emptyset$ và $Y \cap X \neq \emptyset$. Như vậy, tập $Y$ không bị phân chia bởi tập $X$ nếu hoặc $Y \subseteq X$ hoặc $Y \cap X = \emptyset$.
Phân hoạch $\mbY = \{Y_1, Y_2, \ldots,Y_n\}$ được gọi là {\em nhất quán} với tập $X$ nếu với mọi $1 \leq i \leq n$, $Y_i$ không bị phân chia bởi~$X$.

Định lý~\ref{th:Consistent} sau đây nói lên khả năng phân hoạch miền của diễn dịch dựa trên mô phỏng hai chiều lớn nhất sao cho nó nhất quán với một tập cho trước. Qua đó cho phép xây dựng thuật toán học một khái niệm trong hệ thống thông tin thông qua mô phỏng hai chiều lớn nhất. Định lý này được phát triển mở rộng với một lớp lớn hơn các logic mô tả và được dựa trên cơ sở của Định lý~3 của công trình~\cite{Nguyen2013}.

\begin{Theorem}
\label{th:Consistent}
Cho $\Sigma$ và $\SigmaDag$ là các bộ ký tự của logic mô tả sao cho $\SigmaDag \subseteq \Sigma$, $\Phi$ và $\Phi^\dag$ là tập các đặc trưng của logic mô tả sao cho $\Phi^\dag \subseteq \Phi$, $\mI$ là một diễn dịch hữu hạn trong $\mLSP$ và $X \subseteq \Delta^\mI$. Gọi $\mbY$ là phân hoạch của $\Delta^\mI$ thông qua quan hệ $\sim_\SdPdI$. Lúc đó:
\begin{enumerate}
  \item nếu tồn tại khái niệm $C$ của $\mLSPD$ sao cho $C^\mI = X$ thì phân hoạch $\mbY$ nhất quán với tập $X$,  
  \item nếu phân hoạch $\mbY$ nhất quán với tập $X$ thì tồn tại khái niệm $C$ của $\mLSPD$ sao cho $C^\mI = X$.\myend
\end{enumerate}
\end{Theorem}

\begin{proof}
Vì $\mI$ là một diễn dịch hữu hạn trong $\mLSP$ nên $\mI$ thỏa mãn điều kiện phân nhánh hữu hạn đối với $\mLSPD$. Theo khẳng định~\eqref{th:AutoBisimulation-item2} của Định lý~\ref{th:AutoBisimulation}, ta có $\simSdPdI$ trùng khớp với~$\equiv_\SdPdI$.

\semiItem Xét khẳng định thứ nhất và giả sử $C^\mI = X$ với $C$ là một khái niệm của $\mLSPD$. Gọi $\mbY = \{Y_1, Y_2, \ldots, Y_n\}$ là một phân hoạch của $\Delta^\mI$ được phân hoạch thông qua quan hệ~$\simSdPdI$. Với $1 \leq i \leq n$, lấy $x$ và $x'$ là hai phần tử bất kỳ của $Y_i$, ta có $x$ và $x'$ thuộc về một lớp tương đương được phân hoạch bởi $\simSdPdI$. Do $\simSdPdI$ trùng với $\equiv_\SdPdI$ nên $x$ $\mLSPD$-tương đương với $x'$ và do đó $x \in C^\mI$ khi và chỉ khi $x' \in C^\mI$. Nghĩa là $\{x, x'\}$ không bị phân chia bởi $C^\mI$. Do vậy $C^\mI$ phải là hợp của một số lớp tương đương được phân hoạch bởi $\simSdPdI$. Từ đó suy ra phân hoạch $\mbY$ nhất quán với $X$.

\semiItem Xét khẳng định thứ hai và giả sử $\mbY$ là một phân hoạch của $\Delta^\mI$ được phân hoạch thông qua quan hệ $\simSdPdI$ và $\mbY$ nhất quán với $X$. Lúc đó $\mbY = \{U_1, U_2, \ldots, U_m\} \cup \{V_1, V_2, \ldots, V_{n}\}$, trong đó $U_i \subseteq X$, $V_i \cap X = \emptyset$ và $X = U_1 \cup U_2 \cup \cdots \cup U_{m}$. Vì $U_i$ và $V_j$ là các lớp tương đương khác nhau từng đôi một theo quan hệ $\equiv_\SdPdI$ nên với mọi $1 \leq i \leq m$ và $1 \leq j \leq n$ tồn tại khái niệm $C_{ij}$ của $\mLSPD$ sao cho $U_i \subseteq C_{ij}^\mI$ và $V_j \cap C_{ij}^\mI = \emptyset$. Với mỗi $1 \leq i \leq m$, đặt $C_i \equiv C_{i1} \mand C_{i2} \mand \cdots \mand C_{in}$, ta có $U_i \subseteq C_i^\mI$, và $V_j \cap C_i^\mI = \emptyset$ với mọi $1 \leq j \leq n$. Đặt $C \equiv C_1 \mor C_2 \mor \cdots \mor C_m$, ta có $U_i \subseteq C^\mI$ với mọi $1 \leq i \leq m$ và $V_j \cap C^\mI = \emptyset$ với mọi $1 \leq j \leq n$. Do đó $C^\mI = X$.
\end{proof}

%-------------------------------------------------------------------
\section*{Tiểu kết Chương~\ref{Chapter2}}
\addcontentsline{toc}{section}{Tiểu kết Chương~\ref{Chapter2}}
\label{sec:Chap2.Summary}
Thông qua ngôn ngữ $\mLSP$ và ngôn ngữ con $\mLSPD$, chương này đã trình bày mô phỏng hai chiều và tính bất biến đối với mô phỏng hai chiều trên một lớp các logic mô tả như đã đề cập trong Chương~\ref{Chapter1}. Các khái niệm, định nghĩa và các định lý, bổ đề cũng như các hệ quả được phát triển dựa trên các kết quả của các công trình~\cite{Divroodi2011B,Nguyen2013} với lớp các logic mô tả lớn hơn. Chúng tôi cũng trình bày các chứng minh cho những định lý, bổ đề, hệ quả đã nêu ra trong chương này. Tính bất biến, đặc biệt là tính bất biến của khái niệm là một trong những nền tảng cho phép mô hình hóa tính không phân biệt được của các đối tượng thông qua ngôn ngữ con. Tính không phân biệt của các đối tượng là một trong những đặc trưng cơ bản trong quá trình xây dựng các kỹ thuật phân lớp dữ liệu. Điều này có nghĩa là chúng ta có thể sử dụng ngôn ngữ con cho các bài toán học máy trong logic mô tả bằng cách sử dụng mô phỏng hai chiều.
\cleardoublepage